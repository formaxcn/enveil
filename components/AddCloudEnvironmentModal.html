<div class="modal-overlay"></div>
<div class="modal-content">
    <div class="modal-header">
        <h3>Add New Cloud Environment</h3>
        <button class="modal-close">&times;</button>
    </div>
    <div class="modal-body">
        <form id="add-cloud-environment-form">
            <div class="form-row env-enable-row">
                <div class="form-group env-name-group">
                    <label for="environment-name">Environment Name:</label>
                    <input type="text" id="environment-name" class="form-control" placeholder="e.g. AWS Production" required />
                </div>
                <div id="enable-switch" class="top-enable-switch"></div>
            </div>

            <div class="form-row provider-selection-row">
                <div class="form-group provider-group">
                    <label for="cloud-provider">Cloud Provider:</label>
                    <select id="cloud-provider" class="form-control" required>
                        <option value="">Select a provider...</option>
                        <option value="aws-cn">AWS China</option>
                        <option value="aws-global">AWS Global</option>
                        <option value="azure">Microsoft Azure</option>
                        <option value="gcp">Google Cloud Platform</option>
                        <option value="custom">Custom Provider</option>
                    </select>
                </div>
            </div>

            <div class="form-section template-section" id="template-section" style="display: none;">
                <div class="template-header">
                    <h4>Template Configuration</h4>
                    <div class="template-description">
                        Pre-configured settings for <span id="template-provider-name"></span>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="account-selection-url">Account Selection URL:</label>
                        <input type="text" id="account-selection-url" class="form-control" placeholder="https://signin.amazonaws.cn/saml" readonly />
                        <div class="field-description">URL where users select accounts and roles</div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="console-domain-pattern">Console Domain Pattern:</label>
                        <input type="text" id="console-domain-pattern" class="form-control" placeholder="*://*.amazonaws.cn/*" readonly />
                        <div class="field-description">Pattern matching console pages for highlighting</div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="saml-url">SAML URL (Optional):</label>
                        <input type="text" id="saml-url" class="form-control" placeholder="https://signin.amazonaws.cn/saml" readonly />
                        <div class="field-description">For future auto-relogin functionality</div>
                    </div>
                </div>
            </div>

            <div class="form-section custom-section" id="custom-section" style="display: none;">
                <div class="custom-header">
                    <h4>Custom Provider Configuration</h4>
                    <div class="custom-description">
                        Configure your own cloud provider settings
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="custom-account-selection-url">Account Selection URL:</label>
                        <input type="text" id="custom-account-selection-url" class="form-control" placeholder="https://your-provider.com/login" />
                        <div class="field-description">URL where users select accounts and roles</div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="custom-console-domain-pattern">Console Domain Pattern:</label>
                        <input type="text" id="custom-console-domain-pattern" class="form-control" placeholder="*://*.your-provider.com/*" />
                        <div class="field-description">Pattern matching console pages for highlighting</div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="custom-saml-url">SAML URL (Optional):</label>
                        <input type="text" id="custom-saml-url" class="form-control" placeholder="https://your-provider.com/saml" />
                        <div class="field-description">For future auto-relogin functionality</div>
                    </div>
                </div>

                <div class="form-subsection">
                    <h5>Account Selection Page Selectors</h5>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="custom-account-containers">Account Container Selectors:</label>
                            <textarea id="custom-account-containers" class="form-control" rows="3" placeholder="fieldset > div.saml-account&#10;.account-item&#10;[data-testid=&quot;account-list-item&quot;]"></textarea>
                            <div class="field-description">CSS selectors for account containers (one per line)</div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="custom-role-elements">Role Text Selectors:</label>
                            <textarea id="custom-role-elements" class="form-control" rows="3" placeholder=".saml-role-name&#10;.role-description&#10;[data-testid=&quot;role-name&quot;]"></textarea>
                            <div class="field-description">CSS selectors for role text elements (one per line)</div>
                        </div>
                    </div>
                </div>

                <div class="form-subsection">
                    <h5>Console Page Selectors</h5>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="custom-console-containers">Console Account Container Selectors:</label>
                            <textarea id="custom-console-containers" class="form-control" rows="3" placeholder="#nav-usernav-popover&#10;.username-display&#10;[data-testid=&quot;user-menu&quot;]"></textarea>
                            <div class="field-description">CSS selectors for console account containers (one per line)</div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="custom-console-role-elements">Console Role Text Selectors:</label>
                            <textarea id="custom-console-role-elements" class="form-control" rows="3" placeholder=".username&#10;.user-display-name&#10;[data-testid=&quot;current-user&quot;]"></textarea>
                            <div class="field-description">CSS selectors for console role text elements (one per line)</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-actions">
                <button type="button" class="btn btn-secondary cancel-btn">Cancel</button>
                <button type="submit" class="btn btn-primary save-btn">Create Environment</button>
            </div>
        </form>
    </div>
</div>