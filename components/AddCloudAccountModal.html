<div class="modal-overlay"></div>
<div class="modal-content">
    <div class="modal-header">
        <h3>Add New Cloud Account</h3>
        <button class="modal-close">&times;</button>
    </div>
    <div class="modal-body">
        <form id="add-cloud-account-form">
            <div class="form-row account-enable-row">
                <div class="form-group account-name-group">
                    <label for="account-name">Account Name:</label>
                    <input type="text" id="account-name" class="form-control" placeholder="e.g. Production Account" required />
                </div>
                <div id="account-enable-switch" class="top-enable-switch"></div>
            </div>

            <div class="form-section account-config-section">
                <div class="section-header">
                    <h4>Account Configuration</h4>
                    <div class="section-description">
                        Configure URL matching and background highlighting for this account
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="match-pattern">Match Pattern:</label>
                        <select id="match-pattern" class="form-control" required>
                            <option value="domain">Domain</option>
                            <option value="url">URL</option>
                            <option value="regex">Regular Expression</option>
                        </select>
                        <div class="field-description">How to match pages for this account</div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="match-value">Match Value:</label>
                        <input type="text" id="match-value" class="form-control" placeholder="e.g. console.aws.amazon.com" required />
                        <div class="field-description">The value to match against (domain, URL, or regex pattern)</div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Background Color:</label>
                        <input type="hidden" id="account-color" value="#4a9eff" />
                        <div class="modal-color-selection">
                            <div class="modal-default-colors-header">
                                <div id="account-default-colors" class="modal-default-colors"></div>
                                <div class="color-picker-wrapper">
                                    <div id="account-others-color-btn" class="color-dot custom-color-dot" title="Custom Color">
                                        <i class="fas fa-palette"></i>
                                    </div>
                                    <input type="color" id="account-custom-picker" class="unified-color-picker" value="#4a9eff" style="position: absolute; opacity: 0; pointer-events: none; width: 0; height: 0;" />
                                </div>
                            </div>
                        </div>
                        <div class="field-description">Background color for account highlighting</div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <div id="background-enable-switch"></div>
                    </div>
                </div>
            </div>

            <div class="form-section role-management-section">
                <div class="section-header">
                    <h4>Role Management</h4>
                    <div class="section-description">
                        Configure keyword-based text highlighting for specific roles within this account
                    </div>
                </div>
                
                <div class="role-table-container">
                    <div class="role-table-header">
                        <button type="button" id="add-role-btn" class="btn btn-secondary btn-sm">
                            <i class="fas fa-plus"></i> Add Role
                        </button>
                    </div>
                    
                    <div class="role-table-wrapper">
                        <table id="roles-table" class="roles-table">
                            <thead>
                                <tr>
                                    <th>Enabled</th>
                                    <th>Role Name</th>
                                    <th>Keywords</th>
                                    <th>Highlight Color</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="roles-table-body">
                                <!-- Role rows will be dynamically added here -->
                            </tbody>
                        </table>
                        
                        <div id="no-roles-message" class="no-roles-message">
                            <div class="no-roles-icon">
                                <i class="fas fa-user-tag"></i>
                            </div>
                            <div class="no-roles-text">
                                <p>No roles configured yet</p>
                                <p class="no-roles-subtext">Add roles to enable keyword-based text highlighting</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-actions">
                <button type="button" class="btn btn-secondary cancel-btn">Cancel</button>
                <button type="submit" class="btn btn-primary save-btn">Create Account</button>
            </div>
        </form>
    </div>
</div>